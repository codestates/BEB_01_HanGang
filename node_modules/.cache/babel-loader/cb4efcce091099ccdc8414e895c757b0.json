{"ast":null,"code":"import _regeneratorRuntime from \"/home/gunwoo/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/gunwoo/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/gunwoo/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/gunwoo/web3-practice/src/components/Erc721.js\";\nimport React from \"react\";\nimport erc721Abi from \"../erc721Abi\";\nimport { useState } from \"react\";\n\nfunction Erc721(_ref) {\n  var _this = this;\n\n  var web3 = _ref.web3,\n      account = _ref.account,\n      erc721list = _ref.erc721list;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      to = _useState2[0],\n      setTo = _useState2[1];\n\n  var sendToken = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(tokenAddr, tokenId) {\n      var tokenContract;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return new web3.eth.Contract(erc721Abi, tokenAddr, {\n                from: account\n              });\n\n            case 2:\n              tokenContract = _context.sent;\n              tokenContract.methods.transferFrom(account, to, tokenId).send({\n                from: account\n              }).on(\"receipt\", function (receipt) {\n                setTo(\"\");\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendToken(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erc721list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 25,\n      columnNumber: 5\n    }\n  }, erc721list.map(function (token) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"erc721token\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 17\n      }\n    }, \"Name: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 27\n      }\n    }, token.name), \"(\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"symbol\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 30,\n        columnNumber: 21\n      }\n    }, token.symbol), \")\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"nft\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }, \"id: \", token.tokenId), /*#__PURE__*/React.createElement(\"img\", {\n      src: token.tokenURI,\n      width: 300,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 32,\n        columnNumber: 21\n      }\n    }), \"/* nft \\uC804\\uC1A1 \\uAD00\\uB828 */\", /*#__PURE__*/React.createElement(\"div\", {\n      className: \"tokenTransfer\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 12\n      }\n    }, \"To:\", \" \", /*#__PURE__*/React.createElement(\"input\", {\n      type: \"text\",\n      value: to,\n      onChange: function onChange(e) {\n        setTo(e.target.value);\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 25\n      }\n    }), /*#__PURE__*/React.createElement(\"button\", {\n      className: \"sendErc20Btn\",\n      onClick: sendToken.bind(_this, token.address, token.tokenId),\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 25\n      }\n    }, \"send Token\")));\n  }));\n}\n\nexport default Erc721;","map":{"version":3,"sources":["/home/gunwoo/web3-practice/src/components/Erc721.js"],"names":["React","erc721Abi","useState","Erc721","web3","account","erc721list","to","setTo","sendToken","tokenAddr","tokenId","eth","Contract","from","tokenContract","methods","transferFrom","send","on","receipt","map","token","name","symbol","tokenURI","e","target","value","bind","address"],"mappings":";;;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,SAAP,MAAsB,cAAtB;AACA,SAASC,QAAT,QAAyB,OAAzB;;AAEA,SAASC,MAAT,OAA+C;AAAA;;AAAA,MAA7BC,IAA6B,QAA7BA,IAA6B;AAAA,MAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACvBJ,QAAQ,CAAC,EAAD,CADe;AAAA;AAAA,MACpCK,EADoC;AAAA,MAChCC,KADgC;;AAE9C,MAAMC,SAAS;AAAA,yEAAG,iBAAOC,SAAP,EAAkBC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACqB,IAAIP,IAAI,CAACQ,GAAL,CAASC,QAAb,CACxBZ,SADwB,EAExBS,SAFwB,EAGxB;AACII,gBAAAA,IAAI,EAAET;AADV,eAHwB,CADrB;;AAAA;AACDU,cAAAA,aADC;AAQPA,cAAAA,aAAa,CAACC,OAAd,CACCC,YADD,CACcZ,OADd,EACuBE,EADvB,EAC2BI,OAD3B,EAECO,IAFD,CAEM;AACFJ,gBAAAA,IAAI,EAAET;AADJ,eAFN,EAKCc,EALD,CAKI,SALJ,EAKe,UAACC,OAAD,EAAa;AACxBZ,gBAAAA,KAAK,CAAC,EAAD,CAAL;AACH,eAPD;;AARO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATC,SAAS;AAAA;AAAA;AAAA,KAAf;;AAiBC,sBACE;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,UAAU,CAACe,GAAX,CAAe,UAACC,KAAD,EAAW;AACvB,wBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACU;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBA,KAAK,CAACC,IAA9B,CADV,oBAEI;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BD,KAAK,CAACE,MAAhC,CAFJ,oBAGI;AAAK,MAAA,SAAS,EAAC,KAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,eAA0BF,KAAK,CAACX,OAAhC,CAHJ,eAII;AAAK,MAAA,GAAG,EAAEW,KAAK,CAACG,QAAhB;AAA0B,MAAA,KAAK,EAAE,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,sDAOL;AAAK,MAAA,SAAS,EAAC,eAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cACiB,GADjB,eAEa;AACI,MAAA,IAAI,EAAC,MADT;AAEI,MAAA,KAAK,EAAElB,EAFX;AAGI,MAAA,QAAQ,EAAE,kBAACmB,CAAD,EAAO;AACblB,QAAAA,KAAK,CAACkB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAL;AACH,OALL;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAFb,eASa;AACI,MAAA,SAAS,EAAC,cADd;AAEI,MAAA,OAAO,EAAEnB,SAAS,CAACoB,IAAV,CACL,KADK,EAELP,KAAK,CAACQ,OAFD,EAGLR,KAAK,CAACX,OAHD,CAFb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBATb,CAPK,CADJ;AA8BH,GA/BA,CADL,CADF;AAoCD;;AACD,eAAeR,MAAf","sourcesContent":["import React from \"react\"\nimport erc721Abi from \"../erc721Abi\";\nimport { useState } from \"react\";\n\nfunction Erc721({ web3, account, erc721list }) {\n    const [to, setTo] = useState(\"\");\n\tconst sendToken = async (tokenAddr, tokenId) => {\n            const tokenContract = await new web3.eth.Contract(\n                erc721Abi,\n                tokenAddr,\n                {\n                    from: account,\n                }\n            );\n            tokenContract.methods\n            .transferFrom(account, to, tokenId)\n            .send({\n                from: account,\n            })\n            .on(\"receipt\", (receipt) => {\n                setTo(\"\");\n            });\n        };\n\t\treturn (\n\t\t  <div className=\"erc721list\">\n\t\t      {erc721list.map((token) => {\n\t\t          return (\n\t\t              <div className=\"erc721token\">\n\t\t                  Name: <span className=\"name\">{token.name}</span>(\n\t\t                  <span className=\"symbol\">{token.symbol}</span>)\n\t\t                  <div className=\"nft\">id: {token.tokenId}</div>\n\t\t                  <img src={token.tokenURI} width={300} />\n\t\t                  \n\t\t\t\t\t\t\t\t\t\t\t/* nft 전송 관련 */\n\t\t\t\t\t\t\t\t\t\t\t<div className=\"tokenTransfer\">\n\t\t                      To:{\" \"}\n\t\t                      <input\n\t\t                          type=\"text\"\n\t\t                          value={to}\n\t\t                          onChange={(e) => {\n\t\t                              setTo(e.target.value);\n\t\t                          }}\n\t\t                      ></input>\n\t\t                      <button\n\t\t                          className=\"sendErc20Btn\"\n\t\t                          onClick={sendToken.bind(\n\t\t                              this,\n\t\t                              token.address,\n\t\t                              token.tokenId\n\t\t                          )}\n\t\t                      >\n\t\t                          send Token\n\t\t                      </button>\n\t\t                  </div>\n\t\t              </div>\n\t\t          );\n\t\t      })}\n\t\t  </div>\n\t\t);\n}\nexport default Erc721;"]},"metadata":{},"sourceType":"module"}