{"ast":null,"code":"import _regeneratorRuntime from \"/home/lhk/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";\nimport _asyncToGenerator from \"/home/lhk/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _slicedToArray from \"/home/lhk/web3-practice/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";\nvar _jsxFileName = \"/home/lhk/web3-practice/src/components/Erc721.js\";\nimport React, { useState } from 'react';\nimport erc721Abi from \"../erc721Abi\";\n\nfunction Erc721(_ref) {\n  var _this = this;\n\n  var web3 = _ref.web3,\n      account = _ref.account,\n      erc721list = _ref.erc721list;\n\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      to = _useState2[0],\n      setTo = _useState2[1];\n\n  var sendToken = /*#__PURE__*/function () {\n    var _ref2 = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime.mark(function _callee(tokenAddr, tokenId) {\n      var tokenContract;\n      return _regeneratorRuntime.wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return new web3.eth.Contract(erc721Abi, tokenAddr, {\n                from: account\n              });\n\n            case 2:\n              tokenContract = _context.sent;\n              tokenContract.methods.transferFrom(account, to, tokenId).send({\n                from: account\n              }).on(\"receipt\", function (receipt) {\n                setTo(\"\");\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n\n    return function sendToken(_x, _x2) {\n      return _ref2.apply(this, arguments);\n    };\n  }();\n\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"erc721list\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 5\n    }\n  }, erc721list.map(function (token) {\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"erc721token\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 17\n      }\n    }, \"Name: \", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"name\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 27\n      }\n    }, token.name), \"(\", /*#__PURE__*/React.createElement(\"span\", {\n      className: \"symbol\",\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 29,\n        columnNumber: 21\n      }\n    }, token.description), \")\", /*#__PURE__*/React.createElement(\"img\", {\n      src: token.tokenURI,\n      width: 300,\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 31,\n        columnNumber: 21\n      }\n    }));\n  }));\n}\n\nexport default Erc721;","map":{"version":3,"sources":["/home/lhk/web3-practice/src/components/Erc721.js"],"names":["React","useState","erc721Abi","Erc721","web3","account","erc721list","to","setTo","sendToken","tokenAddr","tokenId","eth","Contract","from","tokenContract","methods","transferFrom","send","on","receipt","map","token","name","description","tokenURI"],"mappings":";;;;AAAA,OAAOA,KAAP,IAAeC,QAAf,QAA8B,OAA9B;AACA,OAAOC,SAAP,MAAsB,cAAtB;;AAEA,SAASC,MAAT,OAA+C;AAAA;;AAAA,MAA7BC,IAA6B,QAA7BA,IAA6B;AAAA,MAAvBC,OAAuB,QAAvBA,OAAuB;AAAA,MAAdC,UAAc,QAAdA,UAAc;;AAAA,kBACvBL,QAAQ,CAAC,EAAD,CADe;AAAA;AAAA,MACpCM,EADoC;AAAA,MAChCC,KADgC;;AAE9C,MAAMC,SAAS;AAAA,yEAAG,iBAAOC,SAAP,EAAkBC,OAAlB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qBACiB,IAAIP,IAAI,CAACQ,GAAL,CAASC,QAAb,CAC1BX,SAD0B,EAE1BQ,SAF0B,EAG1B;AACII,gBAAAA,IAAI,EAAET;AADV,eAH0B,CADjB;;AAAA;AACLU,cAAAA,aADK;AAQbA,cAAAA,aAAa,CAACC,OAAd,CACKC,YADL,CACkBZ,OADlB,EAC2BE,EAD3B,EAC+BI,OAD/B,EAEKO,IAFL,CAEU;AACFJ,gBAAAA,IAAI,EAAET;AADJ,eAFV,EAKKc,EALL,CAKQ,SALR,EAKmB,UAACC,OAAD,EAAa;AACxBZ,gBAAAA,KAAK,CAAC,EAAD,CAAL;AACH,eAPL;;AARa;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAAH;;AAAA,oBAATC,SAAS;AAAA;AAAA;AAAA,KAAf;;AAiBA,sBACG;AAAK,IAAA,SAAS,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KACKH,UAAU,CAACe,GAAX,CAAe,UAACC,KAAD,EAAW;AACvB,wBACI;AAAK,MAAA,SAAS,EAAC,aAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BACU;AAAM,MAAA,SAAS,EAAC,MAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAAwBA,KAAK,CAACC,IAA9B,CADV,oBAEI;AAAM,MAAA,SAAS,EAAC,QAAhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAA0BD,KAAK,CAACE,WAAhC,CAFJ,oBAII;AAAK,MAAA,GAAG,EAAEF,KAAK,CAACG,QAAhB;AAA0B,MAAA,KAAK,EAAE,GAAjC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAJJ,CADJ;AASH,GAVA,CADL,CADH;AAeA;;AACD,eAAetB,MAAf","sourcesContent":["import React, {useState} from 'react';\nimport erc721Abi from \"../erc721Abi\";\n\nfunction Erc721({ web3, account, erc721list }) {\n    const [to, setTo] = useState(\"\");\n\tconst sendToken = async (tokenAddr, tokenId) => {\n        const tokenContract = await new web3.eth.Contract(\n          erc721Abi,\n          tokenAddr,\n          {\n              from: account,\n          }\n      );\n      tokenContract.methods\n          .transferFrom(account, to, tokenId)\n          .send({\n              from: account,\n          })\n          .on(\"receipt\", (receipt) => {\n              setTo(\"\");\n          });\n    };\n\treturn (\n\t\t  <div className=\"erc721list\">\n\t\t      {erc721list.map((token) => {\n\t\t          return (\n\t\t              <div className=\"erc721token\">\n\t\t                  Name: <span className=\"name\">{token.name}</span>(\n\t\t                  <span className=\"symbol\">{token.description}</span>)\n\t\t                  {/* <div className=\"nft\">id: {token.tokenId}</div> */}\n\t\t                  <img src={token.tokenURI} width={300} />\n\n\t\t              </div>\n\t\t          );\n\t\t      })}\n\t\t  </div>\n\t\t);\n}\nexport default Erc721;"]},"metadata":{},"sourceType":"module"}